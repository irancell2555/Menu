# پروژه تولید کننده منو در شل (Shell Menu Generator)

## توضیح مختصر

این پروژه یک اسکریپت شل (`menu_generator_v1.sh`) ارائه می‌دهد که شامل یک تابع به نام `generate_menu` برای ایجاد منوهای تعاملی و جدولی در محیط شل (ترمینال) می‌باشد. این تابع به کاربران اجازه می‌دهد تا به راحتی منوهایی با گزینه‌های مختلف ایجاد کرده و انتخاب کاربر را مدیریت کنند.

## ویژگی‌های اصلی

*   **موارد منوی قابل تنظیم**: لیست گزینه‌های منو به عنوان یک رشته جدا شده با کاما به تابع ارسال می‌شود.
*   **پشتیبانی از چند زبان**: در حال حاضر از زبان‌های **انگلیسی (en)** و **فارسی (fa)** پشتیبانی می‌کند. تمامی رشته‌های متنی قابل مشاهده توسط کاربر (مانند عنوان، پیام‌ها) بومی‌سازی شده‌اند. زبان پیش‌فرض انگلیسی است.
*   **رنگ‌های قابل تنظیم**: امکان تنظیم رنگ برای حاشیه جدول، متن عنوان و متن گزینه‌های منو با استفاده از نام رنگ‌های استاندارد ANSI وجود دارد.
*   **عرض ستون قابل تنظیم**: عرض ستون جدول منو قابل تنظیم است.
*   **انتخاب عددی گزینه‌ها**: کاربران می‌توانند با وارد کردن شماره گزینه، انتخاب خود را انجام دهند. ورودی کاربر اعتبارسنجی می‌شود.
*   **مقدار بازگشتی**: تابع، شماره گزینه انتخاب شده توسط کاربر (1-based index) را به عنوان خروجی برمی‌گرداند.
*   **نسخه‌بندی دستی**: اسکریپت شامل یک شماره ساخت (`local build_number`) است که به صورت دستی پس از هر تغییر مهم، قابل به‌روزرسانی است.
*   **مدیریت خطای مناسب**: برای ورودی‌های نامعتبر یا لیست گزینه‌های خالی، پیام‌های خطای مناسب و بومی‌سازی شده نمایش داده می‌شود.

## پیش‌نیازها

*   محیط **Bash** (اکثر سیستم‌های لینوکس و macOS به صورت پیش‌فرض دارند).

## نحوه استفاده

### 1. گنجاندن اسکریپت `menu_generator_v1.sh`

برای استفاده از تابع `generate_menu`، ابتدا باید اسکریپت `menu_generator_v1.sh` را در اسکریپت خودتان `source` کنید:

```bash
source ./menu_generator_v1.sh
# یا اگر در مسیر دیگری قرار دارد:
# source / مسیر/کامل/به/menu_generator_v1.sh
```

### 2. فراخوانی تابع `generate_menu`

تابع `generate_menu` پارامترهای زیر را می‌پذیرد:

```bash
generate_menu "زبان" "گزینه‌های_منو" "رنگ_جدول" "رنگ_عنوان" "رنگ_گزینه‌ها" "عرض_ستون"
```

*   **زبان** (اختیاری): کد زبان (`en` برای انگلیسی، `fa` برای فارسی). پیش‌فرض: `"en"`.
*   **گزینه‌های\_منو** (اجباری): یک رشته شامل گزینه‌های منو که با کاما (`,`) از هم جدا شده‌اند. مثال: `"گزینه ۱,گزینه ۲,گزینه ۳"`.
*   **رنگ\_جدول** (اختیاری): نام رنگ برای حاشیه جدول (مثلاً: `"blue"`, `"white"`). پیش‌فرض: `"white"`.
*   **رنگ\_عنوان** (اختیاری): نام رنگ برای متن عنوان منو. پیش‌فرض: `"green"`.
*   **رنگ\_گزینه‌ها** (اختیاری): نام رنگ برای متن گزینه‌های منو. پیش‌فرض: `"cyan"`.
*   **عرض\_ستون** (اختیاری): عرض محتوای ستون منو به تعداد کاراکتر. پیش‌فرض: `"30"`.

### 3. مثال فراخوانی

```bash
# فراخوانی منو به زبان فارسی با رنگ‌های سفارشی
items="باز کردن,ذخیره,خروج"
table_color="yellow"
title_color="magenta"
item_color="cyan"
width="35"

# فراخوانی تابع و ذخیره انتخاب کاربر
user_choice=$(generate_menu "fa" "$items" "$table_color" "$title_color" "$item_color" "$width")

# بررسی موفقیت آمیز بودن اجرای منو (کاربر چیزی انتخاب کرده)
if [ $? -eq 0 ]; then
  echo "شما گزینه شماره $user_choice را انتخاب کردید."
  # اینجا می‌توانید بر اساس انتخاب کاربر، عملیات مورد نظر را انجام دهید
  case "$user_choice" in
    1) echo "عملیات باز کردن انجام می‌شود...";;
    2) echo "عملیات ذخیره انجام می‌شود...";;
    3) echo "عملیات خروج انجام می‌شود...";;
    *) echo "گزینه نامعتبر!";; # این حالت معمولا توسط خود تابع مدیریت می‌شود
  esac
else
  echo "انتخاب گزینه لغو شد یا خطایی در منو رخ داد."
fi
```

## اسکریپت نمونه (`example_usage.sh`)

یک اسکریپت نمونه به نام `example_usage.sh` در این پروژه وجود دارد که نحوه استفاده از تابع `generate_menu` با پارامترهای مختلف، دریافت انتخاب کاربر و انجام عملیات بر اساس آن را به طور کامل نمایش می‌دهد. توصیه می‌شود برای درک بهتر، این فایل را بررسی کنید.

## نسخه‌بندی

شماره ساخت (Build Number) به صورت یک متغیر محلی (`local build_number`) در ابتدای تابع `generate_menu` در فایل `menu_generator_v1.sh` تعریف شده است. پس از هر تغییر مهم و انتشار نسخه جدید، این شماره باید به صورت دستی افزایش یابد.

```bash
# در داخل فایل menu_generator_v1.sh، در تابع generate_menu
# Build number: Increment manually after significant changes.
local build_number=1 # این عدد را به صورت دستی تغییر دهید
```

---
امیدواریم این ابزار برای شما مفید باشد!
